<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>line</title>
    <link rel="stylesheet" href="../../css/chart-docs.css" />
    <script src="../../js/include.js"></script>
  </head>
  <body>
    <div class="theme-container">
      <div data-include="../include/navbar.html"></div>
      <div data-include="../include/sidebar.html"></div>

      <main class="page">
        <div class="theme-default-content content__default">
          <h1 id="point-styling"><a href="#point-styling" class="header-anchor">#</a> Point Styling</h1>
          <div>
            <div class="chart-view">
              <canvas id="chart"></canvas>
            </div>
            <div class="chart-actions">
              <a href="#" class="chart-action" onclick="actions.circle();">pointStyle: circle (default)</a>
              <a href="#" class="chart-action" onclick="actions.cross();">pointStyle: cross</a>
              <a href="#" class="chart-action" onclick="actions.crossRot();">pointStyle: crossRot</a>
              <a href="#" class="chart-action" onclick="actions.dash();">pointStyle: dash</a>
              <a href="#" class="chart-action" onclick="actions.line();">pointStyle: line</a>
              <a href="#" class="chart-action" onclick="actions.rect();">pointStyle: rect</a>
              <a href="#" class="chart-action" onclick="actions.rectRounded();">pointStyle: rectRounded</a>
              <a href="#" class="chart-action" onclick="actions.rectRot();">pointStyle: rectRot</a>
              <a href="#" class="chart-action" onclick="actions.star();">pointStyle: star</a>
              <a href="#" class="chart-action" onclick="actions.triangle();">pointStyle: triangle</a>
              <a href="#" class="chart-action" onclick="actions.false();">pointStyle: false</a>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script src="../../js/chart.4.3.3.min.js"></script>
    <script src="../../js/luxon_v3.3.0.min.js"></script>
    <script src="../../js/chartjs-adapter-luxon_v1.3.1.min.js"></script>
    <script src="../../js/color_v0.3.2.js"></script>
    <script src="../../js/chart_utils.js"></script>

    <script>
      //data
      const data = {
        labels: ['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5', 'Day 6'],
        datasets: [
          {
            label: 'Dataset',
            data: Utils.numbers({ count: 6, min: -100, max: 100 }),
            borderColor: Utils.CHART_COLORS.red,
            backgroundColor: Utils.transparentize(Utils.CHART_COLORS.red, 0.5),
            pointStyle: 'circle',
            pointRadius: 10,
            pointHoverRadius: 15
          }
        ]
      };

      //config
      const config = {
        type: 'line',
        data: data,
        options: {
          responsive: true,
          plugins: {
            title: {
              display: true,
              text: (ctx) => 'Point Style: ' + ctx.chart.data.datasets[0].pointStyle
            }
          }
        }
      };

      //init
      const ctx = document.getElementById('chart');
      const chart = new Chart(ctx, config);

      //action
      const actions = {
        circle: function () {
          chart.data.datasets.forEach((dataset) => {
            dataset.pointStyle = 'circle';
          });
          chart.update();
        },
        cross: function () {
          chart.data.datasets.forEach((dataset) => {
            dataset.pointStyle = 'cross';
          });
          chart.update();
        },
        crossRot: function () {
          chart.data.datasets.forEach((dataset) => {
            dataset.pointStyle = 'crossRot';
          });
          chart.update();
        },
        dash: function () {
          chart.data.datasets.forEach((dataset) => {
            dataset.pointStyle = 'dash';
          });
          chart.update();
        },
        line: function () {
          chart.data.datasets.forEach((dataset) => {
            dataset.pointStyle = 'line';
          });
          chart.update();
        },
        rect: function () {
          chart.data.datasets.forEach((dataset) => {
            dataset.pointStyle = 'rect';
          });
          chart.update();
        },
        rectRounded: function () {
          chart.data.datasets.forEach((dataset) => {
            dataset.pointStyle = 'rectRounded';
          });
          chart.update();
        },
        rectRot: function () {
          chart.data.datasets.forEach((dataset) => {
            dataset.pointStyle = 'rectRot';
          });
          chart.update();
        },
        star: function () {
          chart.data.datasets.forEach((dataset) => {
            dataset.pointStyle = 'star';
          });
          chart.update();
        },
        triangle: function () {
          chart.data.datasets.forEach((dataset) => {
            dataset.pointStyle = 'triangle';
          });
          chart.update();
        },
        false: function () {
          chart.data.datasets.forEach((dataset) => {
            dataset.pointStyle = false;
          });
          chart.update();
        }
      };

      //resize
      if (chart) {
        window.addEventListener('resize', function () {
          chart.resize();
        });
      }
    </script>
  </body>
</html>
